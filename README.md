# bind9_ansible

Роль работает от двух плейбуков.
Плейбук bind_9_zi.yml по сути использует роль с установкой бинда на сервер и прокидыванием туда нужных файлов ( named в etc/bind). В нём используется переменная {{  template }}. Располагается она по адресу /var/main.yml. Там можно заменить её или же сменить путь. Она подстаивается в таск debian.yml по адресу {{ role_path}}/templates. В этой директории хранятся все шаблоны j2 для bind сервера. 

Плейбук bind_9_zone_zi.yml использует таск с обновлением файлов зон, конфигураций и прочего. В нём используется переменная {{ second }}, вписанная в него напрямую. В нём же можно и сменить имя или путь к файлам шаблонам. Используется в связке с таском deploy.yml. Так же в zone и rv_zone нужно вписать имя зоны. Оно автоматически пропишет их в named.conf.local

В templates в named.conf.options в acl вписываем адреса НСов и хостов.

Следующей зоной можно указать реверсивную. В значение зоны вписываем xx.168.192.in-addr.arpa ( либо то, что netstat -lnp | grep :53 показало ( слушаем 53 порт))


Уф. Время 6:11. Чет подустал я
